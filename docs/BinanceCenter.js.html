<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: BinanceCenter.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: BinanceCenter.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const {Axios}  = require('axios');
const exchangesConfig  = require('../../../binance-sync.config.json');
const AssetData  = require('./models/AssetData');
const futuresLeverage  = require('../../../futures-leverage.json');

/**
 * BinanceCenter class for managing Binance exchange.
 */
class BinanceCenter {
    /**
     * Constructs a new BinanceCenter instance.
     */
    constructor() {
        this.configs = exchangesConfig.binance;
        this.futuresSymbols = [];
        this.rateLimit = [];
        this.exchangeFilters = [];
        this.serverTime;
        this.timezone = '';
    }

    /**
     * Initializes the BinanceCenter instance.
     * @async
     * @returns {Promise&lt;Object>} The success status.
     * @throws {Error} If there is an error during initialization.
     */
    async init() {
        const ajax = new Axios({ baseURL: exchangesConfig.binance.marketTypes.futures.apiFuturesHost });
        const { data } = await ajax.get('/fapi/v1/exchangeInfo');
        const parsedData = JSON.parse(data);

        this.futuresSymbols = parsedData?.symbols.filter(symbol => symbol.quoteAsset === 'USDT').map(symbol => new AssetData(symbol));
        this.rateLimits = parsedData?.rateLimits;
        this.exchangeFilters = parsedData?.exchangeFilters;
        this.serverTime = parsedData?.serverTime;
        this.timezone = parsedData?.timezone;

        this.futuresSymbols.map(item => {
            const bracket = futuresLeverage.find(bracket => bracket.symbol === item.symbol);

            if (!bracket) return;
            item.maxLeverage = bracket.maxLeverage;
            item.minNotional = Number(item.filters.MIN_NOTIONAL.notional)
        });
    
        return { success: true };
    }

    /**
     * Gets the asset data for the given symbols.
     * @param {Array} symbols - The symbols to get the asset data for.
     * @returns {AssetData[]} The asset data.
     */
    getAssetsData(symbols) {
        if (Array.isArray(symbols) &amp;&amp; symbols.length) {
            return this.futuresSymbols.filter(asset => symbols.find(item => item === asset.symbol));
        }

        return this.futuresSymbols;
    }

    /**
     * Gets the asset for the given symbol.
     * @param {string} symbol - The symbol to get the asset for.
     * @returns {AssetData} The asset.
     */
    getAsset(symbol) {
        const assets = this.getAssetsData([symbol]);
        return assets.length ? assets[0] : null;
    }

    /**
     * Gets the list of symbols.
     * @returns {string[]} The list of symbols.
     */
    getSymbolsList() {
        return this.futuresSymbols.map(asset => asset.symbol);
    }
}

module.exports = BinanceCenter;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="BinanceAJAX.html">BinanceAJAX</a></li><li><a href="BinanceCenter.html">BinanceCenter</a></li><li><a href="BinanceStreams.html">BinanceStreams</a></li><li><a href="BinanceSync.html">BinanceSync</a></li><li><a href="BinanceWS.html">BinanceWS</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Fri Apr 19 2024 16:36:39 GMT-0300 (Horário Padrão de Brasília)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
